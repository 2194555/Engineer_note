# 问题记录文档
记录工程开发过程中遇到的问题



## dbus无法映射

### 问题表现

ttyusb有设备，但是无法使用udev脚本建立映射。使用minicom直接监听ttyUSB0可收到数据。

### 已尝试方法

- 删除原有规则重新映射

  > 重复多次仍然无法建立映射

- 更换usb接口

  > 和usb24can更换usb口后仍然无法建立映射，依旧可从ttyUSB0收到数据



## load servo_server时报错找不到参数

### 问题表现

bringup时servo_server报错，几乎全部参数找不到。查找后是engineer_arm_config下的servo.yaml中的参数未被加载

### 尝试方法

- 清除rosparam，重新载入参数

  > 仍出现找不到参数的情况

- **修改launch文件**

  > 观察`rosparam list`和报错信息后发现是参数加载的namespace不对。修改launch文件中加载的命名空间，从`/servo_server/enginneer_middleware`改为`/servo_server`。测试后问题解决。
  
## 各种调试工具无法使用，提示连接不到服务器 

### 问题表现

所有的调试工具发出的指令工程均无法收到，rqt里的arm trajectory controller无法使用，engineer client无法使用，rviz中的路径规划无法连接到moveit server。

### 尝试方法

- 修改本机ros ip

  > 综合各种报错信息，怀疑是网络设置问题。ros ip此前设置为工程在网关中的ip。修改为笔记本在网关中的ip后再次尝试，一切恢复正常。

### 结论

ros ip应该设置为当前网络环境下本机的ip而不是工程的ip

##  不明原因导致CPU占用超高，程序运行严重被影响

### 问题表现

杀死工程后终端开始疯狂报超时（rm_hw的黄色信息），htop查看工程发现全核占用100%。怀疑是大量掉can报错导致，去掉掉can报错后进行测试。第一次关闭程序重启后正常了一段时间，再次杀死后又一次大量报错。关闭roscore和程序，清理log，重新测试，再次杀死后又大量报错。尝试校准，但开始疯车，全车电机抽搐，ctrl c关闭程序无响应，断电强制关机。以上每次杀死后都以重置血量上限的方式复活。

重新上电后尝试了杀死，重置血量复活，杀死重置相同血量上限复活，杀死重置不同血量上限复活，增加与删除掉can报错，但都无法复现。



